---

title: Team Foundation Server setup experiences...
date: '2007-02-13T13:10:00.001+01:00'

tags: 
modified_time: '2007-02-15T21:27:24.462+01:00'
blogger_id: tag:blogger.com,1999:blog-15137028.post-5490549256723210181
blogger_orig_url: http://www.continuousimprover.com/2007/02/team-foundation-server-and-sql-server.html
---

<p>During&nbsp;the last couple of days, I've been&nbsp;busy&nbsp;completing an installation of Team Foundation Server on a fresh Windows 2003 Enterprise Edition install and make it accessible through the internet. While doing so, I ran into a few challanges&nbsp;for which I though they&nbsp;might be useful&nbsp;to remember the next time you try something similar.&nbsp;</p> <ul> <li><strong>Before</strong> you start doing anything, make sure you download the most recent versions of the <a href="http://www.microsoft.com/downloads/details.aspx?familyid=E54BF6FF-026B-43A4-ADE4-A690388F310E&amp;displaylang=en">installation</a> and the <a href="http://www.microsoft.com/downloads/details.aspx?familyid=2AED0ECC-1552-49F1-ABE7-4905155E210A&amp;displaylang=en">administration</a> guides!  <li>While going through the pages and pages of the installation guide, you'll eventually end up at the SQL Server 2005 setup wizard. I have already installed SQL Server a few times in my life, but I never bothered digging in the&nbsp;mysteries&nbsp;behind those collation settings. Unfortunately, accepting the default settings did not make TFS very happy. After searching through several articles and newsgroup discussions, I finally discovered that choosing&nbsp;<b>Latin1_General</b>&nbsp;with&nbsp;<b>Accent Sensitive</b> is the best option.  <li>After installing Service Pack 1,&nbsp;I started receiving TD30059 errors while connecting&nbsp;to the TFS server. Fortunately, ThinkTecture's Neno Loje&nbsp;already discovered this&nbsp;little flaw in the sp1 installation and found a <a href="http://www.dotnetjunkies.com/WebLog/nenoloje/archive/2007/01/31/191422.aspx">solution</a>.&nbsp;  <li>A very well known&nbsp;issue when accessing&nbsp;TFS from outside the domain realm, is that&nbsp;the Documents and Reports&nbsp;appear in the Team Explorer with a red cross. Usually this is caused by the fact that the&nbsp;corresponding URLs include the NETBIOS name of the server&nbsp;instead of&nbsp;the fully qualified domain name. You can fix that using the following <a href="http://geekswithblogs.net/etiennetremblay/archive/2006/07/28/86542.aspx">article</a>.  <li>By default, TFS uses port 80 (or 443&nbsp;if you use&nbsp;SSL) for the&nbsp;Windows Sharepoint Services&nbsp;website and the SQL Server Reporting&nbsp;Services, and it uses port 8080 (8081) for the TFS web services. Although we do want to allow access to our TFS server from the Internet, we prefer not&nbsp;to open up port 8080 or 8081. So with the help of <a href="http://geekswithblogs.net/etiennetremblay/archive/2006/07/28/86542.aspx">this</a> article and&nbsp;the administration guide, I've tried to&nbsp;assign two different DNS names&nbsp;both using port 80. However, whatever I tried, I could not get that scenario to work. I've been Googling my ..ss off, but none helped me with that problem. Officially, Microsoft does not support this scenario until the next installment of TFS (part of codename "Orcas").  <li>One of the pains of administering a TFS installation is that adding/removing groups and users involves making subtle changes to TFS, Windows Sharepoint Services <strong>and</strong> SQL Reporting Services. Some of that pain can be resolved with cleverly chosen AD groups, but nothing can compare with the ease introduced by the newest Visual Studio PowerToy: the <a href="http://www.codeplex.com/Wiki/View.aspx?ProjectName=TFSAdmin">TFS Administration Tool</a>. Simple assign a TFS role to a (newly added) user and changes are applied to all three platforms. The only requirements is that the system from which you are making changes is part of the same domain as the TFS installation. <li>In pre-service pack 1 versions of TFS, the only way to allow access to your TFS installation from the internet is to allow Windows Authentication through your firewall. Since sp1, TFS also supports basic and digest authentication. Well, basic authentication combined with SSL works like a charm! Check the latest version of the administration <a href="http://www.microsoft.com/downloads/details.aspx?familyid=2AED0ECC-1552-49F1-ABE7-4905155E210A&amp;displaylang=en">guide</a> to find out how to get things configured correctly.</li></ul>