---

title: 'ALM Practices Part 7: Refactoring'
date: '2010-06-30T16:43:00.001+02:00'

tags:
- ALM Practices
- ALM
- Quality
modified_time: '2010-08-17T09:44:04.911+02:00'
blogger_id: tag:blogger.com,1999:blog-15137028.post-6622311083385494751
blogger_orig_url: http://www.continuousimprover.com/2010/06/alm-practices-7-refactoring.html
---

<p><strong>What is it?</strong></p>  <p>A mindset and practice that requires you to continuously reevaluate a region of code each time you make a change. In essence, you need to look at the code related to your changes and reconsider whether the original solution is still the best solution accounting for the information you currently have (and did not have at that time). Refactoring is a core practice of the <a href="http://www.dennisdoomen.net/2010/03/tfs-development-practices-part-3-unit.html">Test Driven Development</a>.</p>  <p><strong>Why would you do it?</strong></p>  <ul>   <li>Because, unfortunately, experience has proven that is virtually impossible to design a foundation or architecture that we never have to chance anymore. So in reality and in most situations, software is created incrementally by adding new bits and pieces on top of each other without reconsidering its foundations. </li>    <li>Because any technical solution, both on an architectural level or at code level, is based on the knowledge you have at that point. Practice has proven that this knowledge improves over time and often becomes more focused, but is difficult to predict beforehand. </li>    <li>Because of advancing insight it is possible that certain domain concepts (such as those part of the <a href="http://domaindrivendesign.org/node/132">Ubiquitous Language</a>) have been refined or renamed, and you want to make sure your code reflects those changes that all time. </li>    <li>Because if you apply refactoring rigorously, you can start a project with Little Design Up Front instead of the infamous Big Design Up Front (can you predict the future?). Refactoring keeps your code base in good shape, so it’ll be easier to adapt your system or product to new requirements or technical changes. </li> </ul>  <p><strong>What’s the bare minimum you need to do?</strong></p>  <ul>   <li>Replacing obscure or complex code with more simpler code that complies with common design principles and design guidelines. </li> </ul>  <p><strong>What’s the usual thing to do?</strong></p>  <ul>   <li>Rewrite redundant and/or similar code so that you never have to apply the same change to multiple blocks of code, or, in other words, be DRY (Don’t Repeat Yourself). </li>    <li>Remove unnecessary or unused code (including commented-out code). </li>    <li>Considering the Single Responsibility Principle, move code that is at the wrong place in the code base. </li>    <li>Remove unnecessary dependencies between unrelated classes. </li>    <li>Rewrite code to comply with your <a href="http://www.csharpcodingguidelines.com/">coding guidelines and coding layout</a> rules. </li> </ul>  <p><b>How do you do that?</b></p>  <ul>   <li>Apply <a href="http://www.dennisdoomen.net/2010/03/tfs-development-practices-part-3-unit.html">Test Driven Development</a> because it promotes choosing the simplest working solution possible and includes refactoring as one of its basic steps. </li>    <li>Uphold to <a href="http://www.informit.com/articles/article.aspx?p=1235624&amp;seqNum=6">The Boy Scout Rule</a>. Always, and with that I mean <b>always</b>, make sure that each and every source control check-in leaves your code base in a better shape than it was before. </li>    <li>Keep the A4 cheat sheet of the <a href="http://www.csharpcodingguidelines.com/">Coding Guidelines for C# 3.0 and C# 4.0</a> close to continuously remember yourself of its most important guidelines. </li>    <li>During a <a href="http://www.dennisdoomen.net/2010/02/tfs-development-practices-part-2-peer.html">review</a>, not only check that a block of code is functionally correct and uses the right layout, but also try using a high-level view to see whether that block of code is still at the right spot, or needs refactoring. </li>    <li>Check that the name of a type or member is still covering its purpose. </li>    <li>Print out the <a href="http://www.jetbrains.com/resharper/docs/ReSharper45DefaultKeymap.pdf">ReSharper Keymap</a> and learn yourself the keyboard shortcuts for its many <a href="http://www.jetbrains.com/resharper/features/code_refactoring.html">refactoring features</a>. </li>    <li>Make sure you use ReSharper’s Visual Studio Keyboard Scheme so that other developers will not run into issues when you are pair programming with them. </li>    <li>Also include your automated unit tests when refactoring your code. Unit tests are first class citizens in your code base, and must of top-notch quality at all time. </li>    <li>Use the complexity of your unit tests as a measure of quality. If they are difficult to understand or anything other than small, changes are that the tested class (or subject-under-test) is either too complex or has too many responsibilities. </li>    <li>Consider using <a href="http://www.codeplex.com/CloneDetectiveVS">Clone Detective for Visual Studio</a> to analyze your code base for duplication. It’s a free add-on for Visual Studio that will detect similarities in code constructs and can give you a quick analysis of your duplication. </li>    <li>Consider using the <a href="http://www.lostechies.com/blogs/jimmy_bogard/archive/2009/06/03/fighting-technical-debt-with-the-wall-of-pain.aspx">Wall of Pain</a> principle to keep track of your major architectural or technical issues and have a controlled and transparent way for fixing those. </li>    <li>Seriously consider reading Robert C. Martin’s (a.k.a. Uncle Bob) <a href="http://www.amazon.com/Clean-Code-Handbook-Software-Craftsmanship/dp/0132350882">Clean Code</a> and Steve McConnell’s’ <a href="http://www.amazon.com/Code-Complete-Practical-Handbook-Construction/dp/0735619670/ref=sr_1_1?ie=UTF8&amp;s=books&amp;qid=1244743237&amp;sr=1-1">Code Complete</a>. Both books provide very valuable guidance and background information on how to create high quality software. </li> </ul>  