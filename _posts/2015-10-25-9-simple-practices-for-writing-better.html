---
layout: post
title: 9 simple practices for writing better object-oriented code
date: '2015-10-25T16:47:00.003+01:00'
author: Dennis Doomen
tags: 
modified_time: '2015-10-25T16:48:34.014+01:00'
blogger_id: tag:blogger.com,1999:blog-15137028.post-569322900713587428
blogger_orig_url: http://www.continuousimprover.com/2015/10/9-simple-practices-for-writing-better.html
---

<div lang="x-none" style="font-family: Calibri; margin: 0in;">Consider a fantasy game that must track a collection of items, each having a certain amount of <span style="font-style: italic;">quality</span> (or value) that increases or decreases after time passes. This collection contains the following six items:</div><div lang="x-none" style="font-family: Calibri; margin: 0in;"><br /></div><br /><ul style="direction: ltr; margin-bottom: 0in; margin-left: .375in; margin-top: 0in; unicode-bidi: embed;" type="disc"><li style="margin-bottom: 0; margin-top: 0; vertical-align: middle;"><span style="font-family: Calibri;">&nbsp;+5 Dexterity Vest</span></li></ul><ul style="direction: ltr; margin-bottom: 0in; margin-left: .375in; margin-top: 0in; unicode-bidi: embed;" type="disc"><li style="margin-bottom: 0; margin-top: 0; vertical-align: middle;"><span style="font-family: Calibri;">Aged Brie</span></li></ul><ul style="direction: ltr; margin-bottom: 0in; margin-left: .375in; margin-top: 0in; unicode-bidi: embed;" type="disc"><li style="margin-bottom: 0; margin-top: 0; vertical-align: middle;"><span style="font-family: Calibri;">Elixir of the Mongoose,</span></li></ul><ul style="direction: ltr; margin-bottom: 0in; margin-left: .375in; margin-top: 0in; unicode-bidi: embed;" type="disc"><li style="margin-bottom: 0; margin-top: 0; vertical-align: middle;"><span style="font-family: Calibri;">Sulfuras, Hand of Ragnaros</span></li></ul><ul style="direction: ltr; margin-bottom: 0in; margin-left: .375in; margin-top: 0in; unicode-bidi: embed;" type="disc"><li style="margin-bottom: 0; margin-top: 0; vertical-align: middle;"><span style="font-family: Calibri;">Backstage passes to a      TAFKAL80ETC concert</span></li></ul><ul style="direction: ltr; margin-bottom: 0in; margin-left: .375in; margin-top: 0in; unicode-bidi: embed;" type="disc"><li style="margin-bottom: 0; margin-top: 0; vertical-align: middle;"><span style="font-family: Calibri;">Conjured Mana Cake</span></li></ul><br /><div lang="x-none" style="font-family: Calibri; margin: 0in 0in 0in 0.375in;"><br /></div><div style="font-family: Calibri; margin: 0in;"><span lang="x-none">How much each item's quality increases or decreases over time depends on an intricate algorithm that involves the </span><span lang="x-none" style="font-style: italic;">quality </span><span lang="x-none">and </span><span lang="x-none" style="font-style: italic;">sell-in </span><span lang="x-none">(days) properties of each item. Fortunately a prior C# developer encoded this </span><span lang="en-US">for us</span><span lang="x-none">. Let's see what this algorithm looks like:</span></div><div lang="x-none" style="font-family: Calibri; margin: 0in;"><br /></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">private static void UpdateQuality(Item item)</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">{</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp; if (item.Name != "Aged Brie" &amp;&amp; item.Name != "Backstage passes to a TAFKAL80ETC concert")</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp; {</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (item.Quality &gt; 0)</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (item.Name != "Sulfuras, Hand of Ragnaros")</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; item.Quality = item.Quality - 1;</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp; }</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp; else</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp; {</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (item.Quality &lt; 50)</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; item.Quality = item.Quality + 1;</span></div><div lang="x-none" style="margin: 0in;"><br /></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (item.Name.Equals("Backstage passes to a TAFKAL80ETC concert"))</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (item.SellIn &lt; 11)</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (item.Quality &lt; 50)</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; item.Quality = item.Quality + 1;</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></div><div lang="x-none" style="margin: 0in;"><br /></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (item.SellIn &lt; 6)</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (item.Quality &lt; 50)</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; item.Quality = item.Quality + 1;</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp; }</span></div><div lang="x-none" style="margin: 0in;"><br /></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp; if (!item.Name.Equals("Sulfuras, Hand of Ragnaros"))</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp; {</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; item.SellIn = item.SellIn - 1;</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp; }</span></div><div lang="x-none" style="margin: 0in;"><br /></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp; if (item.SellIn &lt; 0)</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp; {</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (item.Name != "Aged Brie")</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (item.Name != "Backstage passes to a TAFKAL80ETC concert")</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (item.Quality &gt; 0)</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (item.Name != "Sulfuras, Hand of Ragnaros")</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; item.Quality = item.Quality - 1;</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; item.Quality = item.Quality - item.Quality;</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (item.Quality &lt; 50)</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; item.Quality = item.Quality + 1;</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp; }</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">}</span></div><div lang="x-none" style="font-family: Calibri; margin: 0in;"><br /></div><div style="font-family: Calibri; margin: 0in;"><span lang="x-none">So? What do you think? </span><span lang="en-US">If you want, you can find the full sources of this version </span><a href="https://github.com/dennisdoomen/objectcalisthenics/tree/master"><span lang="en-US">here</span></a><span lang="en-US">. </span><span lang="x-none">Is it readable enough for you? </span><span lang="en-US">&nbsp;</span><span lang="x-none">I hope not, because that would render this entire article useless. So let's use this opportunity to introduce the first practice: </span><span lang="x-none" style="font-weight: bold;">use only one level of indention per method</span><span lang="x-none">. In other words, a method can have an </span><span lang="x-none" style="font-style: italic;">if</span><span lang="x-none"> statement as long as it is not nested in another construct, other than the class member itself. Obviously the code snippet above violates this practice big time, so let's rewrite the algorithm.</span></div><div lang="x-none" style="font-family: Calibri; margin: 0in;"><br /></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">private static void UpdateQuality(Item item)</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">{</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">if ((item.Name != "Aged Brie") &amp;&amp; (item.Name != "Backstage passes to a TAFKAL80ETC concert"))</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">{</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.75in;"><span style="font-family: Courier New, Courier, monospace;">ReduceQualityUnlessNameIsSulfuras(item);</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">}</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">else</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">{</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.75in;"><span style="font-family: Courier New, Courier, monospace;">HandleInsufficientQuality(item);</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">}</span></div><div lang="x-none" style="margin: 0in;"><br /></div><div lang="x-none" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">if (!item.Name.Equals("Sulfuras, Hand of Ragnaros"))</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">{</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.75in;"><span style="font-family: Courier New, Courier, monospace;">item.SellIn = item.SellIn - 1;</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">}</span></div><div lang="x-none" style="margin: 0in;"><br /></div><div lang="x-none" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">if (item.SellIn &lt; 0)</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">{</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.75in;"><span style="font-family: Courier New, Courier, monospace;">HandleInsufficientSellIn(item);</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">}</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">}</span></div><div lang="x-none" style="margin: 0in;"><br /></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">private static void ReduceQualityUnlessNameIsSulfuras(Item item)</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">{</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">if ((item.Quality &gt; 0) &amp;&amp; (item.Name != "Sulfuras, Hand of Ragnaros"))</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">{</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.75in;"><span style="font-family: Courier New, Courier, monospace;">item.Quality = item.Quality - 1;</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">}</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">}</span></div><div lang="x-none" style="margin: 0in;"><br /></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">private static void HandleInsufficientQuality(Item item)</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">{</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">if (item.Quality &lt; 50)</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">{</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.75in;"><span style="font-family: Courier New, Courier, monospace;">item.Quality = item.Quality + 1;</span></div><div lang="x-none" style="margin: 0in;"><br /></div><div lang="x-none" style="margin: 0in 0in 0in 0.75in;"><span style="font-family: Courier New, Courier, monospace;">HandleBackstagePasses(item);</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">}</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">}</span></div><div lang="x-none" style="margin: 0in;"><br /></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">private static void HandleBackstagePasses(Item item)</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">{</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">if (item.Name.Equals("Backstage passes to a TAFKAL80ETC concert"))</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">{</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.75in;"><span style="font-family: Courier New, Courier, monospace;">UpdateQualityBasedOnQualityAndSellIn(item);</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">}</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">}</span></div><div lang="x-none" style="margin: 0in;"><br /></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">private static void UpdateQualityBasedOnQualityAndSellIn(Item item)</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">{</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">if ((item.SellIn &lt; 11) &amp;&amp; (item.Quality &lt; 50))</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">{</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.75in;"><span style="font-family: Courier New, Courier, monospace;">item.Quality = item.Quality + 1;</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">}</span></div><div lang="x-none" style="margin: 0in;"><br /></div><div lang="x-none" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">if ((item.SellIn &lt; 6) &amp;&amp; (item.Quality &lt; 50))</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">{</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.75in;"><span style="font-family: Courier New, Courier, monospace;">item.Quality = item.Quality + 1;</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">}</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">}</span></div><div lang="x-none" style="margin: 0in;"><br /></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">private static void HandleInsufficientSellIn(Item item)</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">{</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">if (item.Name != "Aged Brie")</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">{</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.75in;"><span style="font-family: Courier New, Courier, monospace;">HandleItemsThatAreNotAgedBrie(item);</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">}</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">else</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">{</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.75in;"><span style="font-family: Courier New, Courier, monospace;">HandleOtherItems(item);</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">}</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">}</span></div><div lang="x-none" style="margin: 0in;"><br /></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">private static void HandleItemsThatAreNotAgedBrie(Item item)</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">{</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">if (item.Name != "Backstage passes to a TAFKAL80ETC concert")</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">{</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.75in;"><span style="font-family: Courier New, Courier, monospace;">IfNotSulfurasAndQualityIsSufficient(item);</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">}</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">else</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">{</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.75in;"><span style="font-family: Courier New, Courier, monospace;">item.Quality = item.Quality - item.Quality;</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">}</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">}</span></div><div lang="x-none" style="margin: 0in;"><br /></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">private static void IfNotSulfurasAndQualityIsSufficient(Item item)</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">{</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">if ((item.Quality &gt; 0) &amp;&amp; (item.Name != "Sulfuras, Hand of Ragnaros"))</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">{</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.75in;"><span style="font-family: Courier New, Courier, monospace;">item.Quality = item.Quality - 1;</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">}</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">}</span></div><div lang="x-none" style="margin: 0in;"><br /></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">private static void HandleOtherItems(Item item)</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">{</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">if (item.Quality &lt; 50)</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">{</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.75in;"><span style="font-family: Courier New, Courier, monospace;">item.Quality = item.Quality + 1;</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">}</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">}</span></div><div lang="x-none" style="font-family: Calibri; margin: 0in;"><br /></div><div lang="x-none" style="font-family: Calibri; margin: 0in;">I tried to replace all the nested constructs with a simple <a href="http://refactoring.com/catalog/extractMethod.html">Extract Method</a>refactoring pattern. Did it help? I suspect you've discovered by now that backstage passes increase in value the closer you get to their end-of-life. You may also have noticed that Sulfarus never looses its value and that the value of an item never exceeds 50. But we can do better. Let's introduce the practices <span style="font-weight: bold;">Don't Use The Else Keyword</span> and <span style="font-weight: bold;">Use Only Dot Per Line</span>.</div><div lang="x-none" style="font-family: Calibri; margin: 0in;"><br /></div><div lang="x-none" style="font-family: Calibri; margin: 0in;">Most of the dots in the code snippet above are caused by the reference to the <span style="font-style: italic;">item</span> variable, which is a sign of <a href="https://sourcemaking.com/refactoring/smells/feature-envy">Feature Envy</a>code. Similarly, you could say most of the <span style="font-style: italic;">elses</span>are caused by the procedural nature of this code example. And what else could be the the best solution to this than introducing a class per item? This is the revised implementation for the Elixer of the Mongoose item.&nbsp; </div><div style="font-family: Calibri; margin: 0in;"><br /></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">public class ElixirOfTheMongoose : Item</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">{</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp; public ElixirOfTheMongoose(int sellIn, int quality)</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; : base("Elixir of the Mongoose", sellIn, quality)</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp; {</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp; }</span></div><div lang="x-none" style="margin: 0in;"><br /></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp; public override void UpdateQuality()</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp; {</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (Quality &gt; 0)</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Quality = Quality - 1;</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></div><div lang="x-none" style="margin: 0in;"><br /></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SellIn = SellIn - 1;</span></div><div lang="x-none" style="margin: 0in;"><br /></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (SellIn &lt; 0 &amp;&amp; Quality &gt; 0)</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Quality = Quality - 1;</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp; }</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">}</span></div><div style="font-family: Calibri; margin: 0in;"><br /></div><div style="font-family: Calibri; margin: 0in;">And now the algorithm is clear; each day the quality decreases gradually, but until the end-of-life has been reached, after which the quality decreases twice as fast. You could say that these little practices force you to consider a more object-oriented design, don't you agree? But, if you take a closer look you'll notice something else. Apparently, the quality can never become negative. </div><div style="font-family: Calibri; margin: 0in;"><br /></div><div style="margin: 0in;"><span style="font-family: Calibri;">You could have solved this by using an <span style="font-style: italic;">unsigned int</span>, but by applying the <span style="font-weight: bold;">Wrap All Primitives and Strings</span> practice you can do better. By wrapping the two numeric properties of the Item base-class in classes with value-type semantics such as overloads for </span><span style="font-family: Courier New, Courier, monospace;">Equals</span><span style="font-family: Calibri;">, </span><span style="font-family: Courier New, Courier, monospace;">GetHashCode</span><span style="font-family: Calibri;">, various equality operators and by adding intention revealing members like </span><span style="font-family: Courier New, Courier, monospace;">Decrease</span><span style="font-family: Calibri;">, </span><span style="font-family: Courier New, Courier, monospace;">IsOverdue</span><span style="font-family: Calibri;"> and </span><span style="font-family: Courier New, Courier, monospace;">Decrement</span><span style="font-family: Calibri;">, you can rewrite the </span><span style="font-family: Courier New, Courier, monospace;">UpdateQuality</span><span style="font-family: Calibri;"> method as:</span></div><div style="font-family: Calibri; margin: 0in;"><br /></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">public override void UpdateQuality()</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">{</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp; Quality = Quality.Decrease();</span></div><div lang="x-none" style="margin: 0in;"><br /></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp; SellInDays = SellInDays.Decrement();</span></div><div lang="x-none" style="margin: 0in;"><br /></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp; if (SellInDays.IsOverdue)</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp; {</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Quality = Quality.Decrease();</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp;&nbsp;&nbsp; }</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">}</span></div><div lang="x-none" style="font-family: Calibri; margin: 0in;"><br /></div><div style="margin: 0in;"><span style="font-family: Calibri;">We're left with four lines of code. Few enough to almost instantaneously understand the algorithm. But we're not done yet. Suppose we want to extract some characteristics from a collection of items such as the highest value item as well as the items that are overdue. We could take that List<item> from the </item></span><span style="font-family: Courier New, Courier, monospace;">GildedRose</span><span style="font-family: Calibri;"> class and do the following.</span></div><div lang="x-none" style="font-family: Calibri; margin: 0in;"><br /></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">Item highestValueItem = items.OrderBy(i =&gt; i.Quality).Last();</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">IEnumerable<item>itemsOverdue = items.Where(i =&gt; i.SellInDays.IsOverdue);</item></span></div><div lang="x-none" style="font-family: Calibri; margin: 0in;"><br /></div><div style="margin: 0in;"><span lang="x-none" style="font-family: Calibri;">But then we're not only violating </span><span lang="en-US" style="font-family: Calibri; font-weight: bold;">Use Only Dot Per Line</span><span lang="en-US"><span style="font-family: Calibri;"> again. The mere fact that we use a simple </span><span style="font-family: Courier New, Courier, monospace;">List<item></item></span><span style="font-family: Calibri;"> is violation of another practice, which is the one named </span></span><span lang="en-US" style="font-family: Calibri; font-weight: bold;">First Class Collections</span><span lang="en-US" style="font-family: Calibri;">. And now that I think of it, how would one call a collection of items that need to be sold? Ah, what about an </span><span lang="en-US" style="font-family: Calibri; font-style: italic;">inventory</span><span lang="en-US" style="font-family: Calibri;">. So let's create the inventory class.</span></div><div style="font-family: Calibri; margin: 0in;"><br /></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">public class Inventory : IEnumerable<item></item></span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">{</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">private readonly HashSet<item> items = new HashSet<item>();</item></item></span></div><div lang="x-none" style="margin: 0in;"><br /></div><div lang="x-none" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">public Item HighestValued</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">{</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.75in;"><span style="font-family: Courier New, Courier, monospace;">get { return items.OrderBy(i =&gt; i.Quality).Last(); }</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">}</span></div><div lang="x-none" style="margin: 0in;"><br /></div><div lang="x-none" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">public IEnumerable<item> Overdue</item></span></div><div lang="x-none" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">{</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.75in;"><span style="font-family: Courier New, Courier, monospace;">get { return items.Where(i =&gt; i.SellInDays.IsOverdue).ToArray(); }</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">}</span></div><div lang="x-none" style="margin: 0in;"><br /></div><div lang="x-none" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">public IEnumerator<item> GetEnumerator()</item></span></div><div lang="x-none" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">{</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.75in;"><span style="font-family: Courier New, Courier, monospace;">return items.GetEnumerator();</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">}</span></div><div lang="x-none" style="margin: 0in;"><br /></div><div lang="x-none" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">IEnumerator IEnumerable.GetEnumerator()</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">{</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.75in;"><span style="font-family: Courier New, Courier, monospace;">return GetEnumerator();</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">}</span></div><div lang="x-none" style="margin: 0in;"><br /></div><div lang="x-none" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">public void Add(Item item)</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">{</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.75in;"><span style="font-family: Courier New, Courier, monospace;">items.Add(item);</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">}</span></div><div lang="x-none" style="margin: 0in;"><br /></div><div lang="x-none" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">public void HandleDayChanges(int nrOfDays)</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">{</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.75in;"><span style="font-family: Courier New, Courier, monospace;">for (int i = 0; i &lt; nrOfDays; i++)</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.75in;"><span style="font-family: Courier New, Courier, monospace;">{</span></div><div lang="x-none" style="margin: 0in 0in 0in 1.125in;"><span style="font-family: Courier New, Courier, monospace;">foreach (var item in items)</span></div><div lang="x-none" style="margin: 0in 0in 0in 1.125in;"><span style="font-family: Courier New, Courier, monospace;">{</span></div><div lang="x-none" style="margin: 0in 0in 0in 1.5in;"><span style="font-family: Courier New, Courier, monospace;">item.HandleDayChange();</span></div><div lang="x-none" style="margin: 0in 0in 0in 1.125in;"><span style="font-family: Courier New, Courier, monospace;">}</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.75in;"><span style="font-family: Courier New, Courier, monospace;">}</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">}</span></div><div lang="x-none" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">}</span></div><div style="font-family: Calibri; margin: 0in;"><br /></div><div style="font-family: Calibri; margin: 0in;">Which means we can rewrite the original two calls like this:</div><div style="font-family: Calibri; margin: 0in;"><br /></div><div style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">Item highestValueItem = inventory.HighestValued;</span></div><div style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">IEnumerable<item>itemsOverdue = inventory.OverDue;</item></span></div><div style="font-family: Calibri; margin: 0in;"><br /></div><div style="font-family: Calibri; margin: 0in;">Wrapping simple collections in first-class types is actually a very smart thing to do. How many times have your classes exploded in size with private methods which only task was to modify or query your private collection field? If you would have applied the practices I mentioned up to now, I'm pretty sure you agree you would have ended up with better distribution of responsibilities. It might feel all like overkill, but since I've learned about these practices, it has really helped me create better object-oriented code. </div><div lang="nl" style="font-family: Calibri; margin: 0in;"><br /></div><div style="font-family: Calibri; margin: 0in;"><span lang="nl">Another practice, aptly called </span><span lang="nl" style="font-weight: bold;">Don't Abbreviate</span><span lang="nl">, tells us not to abbreviate names of classes, members and variables. This practice can be confusing, because the question you should ask yourself should be why you want to abbreviate names in the first place. I guess it's either because you couldn't find a shorter name to describe your class, or because you are trying to avoid repeating the same words over and over. The former usually happens to me if I'm trying to name a class that has too many responsibilities (hence the principle Single Responsibility Principle in </span><a href="http://butunclebob.com/ArticleS.UncleBob.PrinciplesOfOod"><span lang="nl">SOLID</span></a><span lang="nl">). The latter could be, and usually is, caused by not following </span><span lang="en-US" style="font-weight: bold;">First Class Collections </span><span lang="en-US">and</span><span lang="en-US" style="font-weight: bold;"> Wrap All Primitives and Strings</span><span lang="en-US">. </span></div><div style="font-family: Calibri; margin: 0in;"><br /></div><div style="font-family: Calibri; margin: 0in;"><span lang="en-US">It's awesome to realize how these practices work together so well to accomplish another practice named </span><span lang="en-US" style="font-weight: bold;">Keep All Entities Small</span><span lang="en-US">. Of course, </span><span lang="en-US" style="font-style: italic;">small</span><span lang="en-US"> is not an objective measurement, but I highly doubt anyone would think the code example I started this post with is small. And that's the purpose of this practice. Whenever your class turns into anything but </span><span lang="en-US" style="font-style: italic;">small</span><span lang="en-US">, start applying the previous practices to make it small again. One heuristic that can help you detect this as early as possible is to practice </span><span lang="nl" style="font-weight: bold;">No Classes With More Than Two Instance Variables</span><span lang="nl">. I know that is going to be difficult to meet. Hey, you might even call it unrealistic and overkill. Regardless, I challenge you to consider the other practices whenever you pass the first two instance fields.</span></div><div lang="nl" style="font-family: Calibri; margin: 0in;"><br /></div><div lang="nl" style="font-family: Calibri; margin: 0in;">Now consider the following implementation of the Item class.</div><div lang="nl" style="font-family: Calibri; margin: 0in;"><br /></div><div style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">using System;</span></div><div lang="x-none" style="margin: 0in;"><br /></div><div lang="nl" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">public abstract class Item</span></div><div lang="nl" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">{</span></div><div lang="nl" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">private readonly string name;</span></div><div lang="x-none" style="margin: 0in;"><br /></div><div lang="nl" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">protected Item(string name, SellInDays sellIn, Quality quality)</span></div><div lang="nl" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">{</span></div><div lang="nl" style="margin: 0in 0in 0in 0.75in;"><span style="font-family: Courier New, Courier, monospace;">this.name = name;</span></div><div lang="nl" style="margin: 0in 0in 0in 0.75in;"><span style="font-family: Courier New, Courier, monospace;">Quality = quality;</span></div><div lang="nl" style="margin: 0in 0in 0in 0.75in;"><span style="font-family: Courier New, Courier, monospace;">SellInDays = sellIn;</span></div><div lang="nl" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">}</span></div><div lang="x-none" style="margin: 0in;"><br /></div><div lang="nl" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">public SellInDays SellInDays { get; set; }</span></div><div lang="x-none" style="margin: 0in;"><br /></div><div lang="nl" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">public Quality Quality { get; set; }</span></div><div lang="x-none" style="margin: 0in;"><br /></div><div lang="nl" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">public string Name</span></div><div lang="nl" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">{</span></div><div lang="nl" style="margin: 0in 0in 0in 0.75in;"><span style="font-family: Courier New, Courier, monospace;">get { return name; }</span></div><div lang="nl" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">}</span></div><div lang="x-none" style="margin: 0in;"><br /></div><div lang="nl" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">public int DaysOverdue</span></div><div lang="nl" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">{</span></div><div lang="nl" style="margin: 0in 0in 0in 0.75in;"><span style="font-family: Courier New, Courier, monospace;">get { return SellInDays.DaysOverdue; }</span></div><div lang="nl" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">}</span></div><div lang="x-none" style="margin: 0in;"><br /></div><div lang="nl" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">public abstract void HandleDayChange();</span></div><div lang="x-none" style="margin: 0in;"><br /></div><div lang="nl" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">public override string ToString()</span></div><div lang="nl" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">{</span></div><div lang="nl" style="margin: 0in 0in 0in 0.75in;"><span style="font-family: Courier New, Courier, monospace;">return name;</span></div><div lang="nl" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">}</span></div><div lang="nl" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">}</span></div><div lang="nl" style="font-family: Calibri; margin: 0in;"><br /></div><div lang="nl" style="font-family: Calibri; margin: 0in;">Technically, this class doesn't have any fields (instance variables in C#), but the properties used here are just compiler-generated getters and setters around a hidden field. So in reality this class violates the two instance practice with one field. But do we need this getters and setters at all? If you look closely at the code, you'll see that those properties are either used for sorting or filtering as illustrated in the previous practice, or to compare them in unit tests. Quite often, properties open up the possibility for calling code to apply algorithms that really belong inside the class that exposes the properties. So you could say that they are generally not a favorable solution, hence the <span style="font-weight: bold;">No Getters/Setters/Properties</span>practice. </div><div lang="nl" style="font-family: Calibri; margin: 0in;"><br /></div><div lang="nl" style="margin: 0in;"><span style="font-family: Calibri;">In our case, this theory is actually true. For instance, two items are semantically equivalent if their </span><span style="font-family: Courier New, Courier, monospace;">Quality</span><span style="font-family: Calibri;">, </span><span style="font-family: Courier New, Courier, monospace;">SellinDays</span><span style="font-family: Calibri;"> and </span><span style="font-family: Courier New, Courier, monospace;">Name</span><span style="font-family: Calibri;"> are the same, which is what the unit tests rely on. We can easily replace that behavior by the correct implementation of </span><span style="font-family: Courier New, Courier, monospace;">Equals</span><span style="font-family: Calibri;">. Likewise, sorting items based on the quality of these properties can be replaced by exposing an implementation of </span><span style="font-family: Courier New, Courier, monospace;">IComparer<t></t></span><span style="font-family: Calibri;">. The only one that we can't really remove is the </span><span style="font-family: Courier New, Courier, monospace;">DaysOverdue</span><span style="font-family: Calibri;"> property. And I don't mind too much either. Being able to ask an item how many days it's due sounds like something you should be able to ask an item in this domain. Anyway, this the current implementation, although I'm discovering refactoring opportunities every time I look at the code. </span></div><div lang="nl" style="font-family: Calibri; margin: 0in;"><br /></div><div lang="nl" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">public abstract class Item</span></div><div lang="nl" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">{</span></div><div lang="nl" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">private readonly string name;</span></div><div lang="nl" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">private Days shelfLife;</span></div><div lang="nl" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">private Quality quality;</span></div><div lang="x-none" style="margin: 0in;"><br /></div><div lang="nl" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">protected Item(string name, Days shelfLife, Quality quality)</span></div><div lang="nl" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">{</span></div><div lang="nl" style="margin: 0in 0in 0in 0.75in;"><span style="font-family: Courier New, Courier, monospace;">this.name = name;</span></div><div lang="nl" style="margin: 0in 0in 0in 0.75in;"><span style="font-family: Courier New, Courier, monospace;">this.quality = quality;</span></div><div lang="nl" style="margin: 0in 0in 0in 0.75in;"><span style="font-family: Courier New, Courier, monospace;">this.shelfLife = shelfLife;</span></div><div lang="nl" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">}</span></div><div lang="x-none" style="margin: 0in;"><br /></div><div lang="nl" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">public bool IsExpired</span></div><div lang="nl" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">{</span></div><div lang="nl" style="margin: 0in 0in 0in 0.75in;"><span style="font-family: Courier New, Courier, monospace;">get { return shelfLife &lt; new Days(0); }</span></div><div lang="nl" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">}</span></div><div lang="x-none" style="margin: 0in;"><br /></div><div lang="nl" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">public Days DaysOverdue</span></div><div lang="nl" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">{</span></div><div lang="nl" style="margin: 0in 0in 0in 0.75in;"><span style="font-family: Courier New, Courier, monospace;">get { return (shelfLife &gt; new Days(0)) ? new Days(0) : -shelfLife; }</span></div><div lang="nl" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">}</span></div><div lang="x-none" style="margin: 0in;"><br /></div><div lang="nl" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">public static IComparer<item> ByQualityComparer</item></span></div><div lang="nl" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">{</span></div><div lang="nl" style="margin: 0in 0in 0in 0.75in;"><span style="font-family: Courier New, Courier, monospace;">get { return new QualityComparer(); }</span></div><div lang="nl" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">}</span></div><div lang="x-none" style="margin: 0in;"><br /></div><div lang="nl" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">public abstract void OnDayHasPassed();</span></div><div lang="x-none" style="margin: 0in;"><br /></div><div lang="nl" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">public override string ToString()</span></div><div lang="nl" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">{</span></div><div lang="nl" style="margin: 0in 0in 0in 0.75in;"><span style="font-family: Courier New, Courier, monospace;">return string.Format("{0} (quality {1}, sell in {2} days)", name, quality, shelfLife);</span></div><div lang="nl" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">}</span></div><div lang="x-none" style="margin: 0in;"><br /></div><div lang="nl" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">protected bool Equals(Item other)</span></div><div lang="nl" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">{</span></div><div lang="nl" style="margin: 0in 0in 0in 0.75in;"><span style="font-family: Courier New, Courier, monospace;">return shelfLife.Equals(other.shelfLife) &amp;&amp; string.Equals(name, other.name) &amp;&amp; quality.Equals(other.quality);</span></div><div lang="nl" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">}</span></div><div lang="x-none" style="margin: 0in;"><br /></div><div lang="nl" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">public override bool Equals(object obj)</span></div><div lang="nl" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">{</span></div><div lang="nl" style="margin: 0in 0in 0in 0.75in;"><span style="font-family: Courier New, Courier, monospace;">if (ReferenceEquals(null, obj))</span></div><div lang="nl" style="margin: 0in 0in 0in 0.75in;"><span style="font-family: Courier New, Courier, monospace;">{</span></div><div lang="nl" style="margin: 0in 0in 0in 1.125in;"><span style="font-family: Courier New, Courier, monospace;">return false;</span></div><div lang="nl" style="margin: 0in 0in 0in 0.75in;"><span style="font-family: Courier New, Courier, monospace;">}</span></div><div lang="x-none" style="margin: 0in 0in 0in 0.75in;"><br /></div><div lang="nl" style="margin: 0in 0in 0in 0.75in;"><span style="font-family: Courier New, Courier, monospace;">if (ReferenceEquals(this, obj))</span></div><div lang="nl" style="margin: 0in 0in 0in 0.75in;"><span style="font-family: Courier New, Courier, monospace;">{</span></div><div lang="nl" style="margin: 0in 0in 0in 1.125in;"><span style="font-family: Courier New, Courier, monospace;">return true;</span></div><div lang="nl" style="margin: 0in 0in 0in 0.75in;"><span style="font-family: Courier New, Courier, monospace;">}</span></div><div lang="x-none" style="margin: 0in;"><br /></div><div lang="nl" style="margin: 0in 0in 0in 0.75in;"><span style="font-family: Courier New, Courier, monospace;">return Equals((Item)obj);</span></div><div lang="nl" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">}</span></div><div lang="x-none" style="margin: 0in;"><br /></div><div lang="nl" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">public override int GetHashCode()</span></div><div lang="nl" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">{</span></div><div lang="nl" style="margin: 0in 0in 0in 0.75in;"><span style="font-family: Courier New, Courier, monospace;">unchecked</span></div><div lang="nl" style="margin: 0in 0in 0in 0.75in;"><span style="font-family: Courier New, Courier, monospace;">{</span></div><div lang="nl" style="margin: 0in 0in 0in 1.125in;"><span style="font-family: Courier New, Courier, monospace;">int hashCode = shelfLife.GetHashCode();</span></div><div lang="nl" style="margin: 0in 0in 0in 1.125in;"><span style="font-family: Courier New, Courier, monospace;">hashCode = (hashCode * 397) ^ name.GetHashCode();</span></div><div lang="nl" style="margin: 0in 0in 0in 1.125in;"><span style="font-family: Courier New, Courier, monospace;">hashCode = (hashCode * 397) ^ quality.GetHashCode();</span></div><div lang="nl" style="margin: 0in 0in 0in 1.125in;"><span style="font-family: Courier New, Courier, monospace;">return hashCode;</span></div><div lang="nl" style="margin: 0in 0in 0in 0.75in;"><span style="font-family: Courier New, Courier, monospace;">}</span></div><div lang="nl" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">}</span></div><div lang="x-none" style="margin: 0in;"><br /></div><div lang="nl" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">protected void IncreaseQuality()</span></div><div lang="nl" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">{</span></div><div lang="nl" style="margin: 0in 0in 0in 0.75in;"><span style="font-family: Courier New, Courier, monospace;">quality = quality.Increase();</span></div><div lang="nl" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">}</span></div><div lang="x-none" style="margin: 0in;"><br /></div><div lang="nl" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">protected void DecreaseQuality()</span></div><div lang="nl" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">{</span></div><div lang="nl" style="margin: 0in 0in 0in 0.75in;"><span style="font-family: Courier New, Courier, monospace;">quality = quality.Decrease();</span></div><div lang="nl" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">}</span></div><div lang="x-none" style="margin: 0in;"><br /></div><div lang="nl" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">protected void Devaluate()</span></div><div lang="nl" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">{</span></div><div lang="nl" style="margin: 0in 0in 0in 0.75in;"><span style="font-family: Courier New, Courier, monospace;">quality = new Quality(0);</span></div><div lang="nl" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">}</span></div><div lang="x-none" style="margin: 0in;"><br /></div><div lang="nl" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">protected void ReduceShelfLife()</span></div><div lang="nl" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">{</span></div><div lang="nl" style="margin: 0in 0in 0in 0.75in;"><span style="font-family: Courier New, Courier, monospace;">shelfLife = shelfLife.ReduceByOneDay();</span></div><div lang="nl" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">}</span></div><div lang="x-none" style="margin: 0in;"><br /></div><div lang="nl" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">protected bool IsDueWithin(Days days)</span></div><div lang="nl" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">{</span></div><div lang="nl" style="margin: 0in 0in 0in 0.75in;"><span style="font-family: Courier New, Courier, monospace;">return shelfLife &lt; days;</span></div><div lang="nl" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">}</span></div><div lang="x-none" style="margin: 0in;"><br /></div><div lang="nl" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">private class QualityComparer : IComparer<item></item></span></div><div lang="nl" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">{</span></div><div lang="nl" style="margin: 0in 0in 0in 0.75in;"><span style="font-family: Courier New, Courier, monospace;">public int Compare(Item x, Item y)</span></div><div lang="nl" style="margin: 0in 0in 0in 0.75in;"><span style="font-family: Courier New, Courier, monospace;">{</span></div><div lang="nl" style="margin: 0in 0in 0in 1.125in;"><span style="font-family: Courier New, Courier, monospace;">return x.quality.CompareTo(y.quality);</span></div><div lang="nl" style="margin: 0in 0in 0in 0.75in;"><span style="font-family: Courier New, Courier, monospace;">}</span></div><div lang="nl" style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">}</span></div><div lang="nl" style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">}</span></div><div lang="nl" style="font-family: Calibri; margin: 0in;"><br /></div><br /><div style="margin: 0in;"><span style="font-family: inherit;">So what do you think? Do these practices, collectively called <a href="http://www.slideshare.net/dennisdoomen/object-calisthenetics">Object Calisthenics</a>, make sense? Did I motivate you to try them right away? If so, tell me your success stories by participating in the Disqussions below. And please follow me at <a href="https://www.twitter.com/ddoomen">@ddoomen</a> to get regular updates on my everlasting quest for better solutions.&nbsp;</span></div>