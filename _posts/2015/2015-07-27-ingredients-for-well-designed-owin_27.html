---

title: Ingredients for well-designed OWIN middleware components - Part 6
date: '2015-07-27T08:52:00.000+02:00'

tags:
- OWIN Recipes
modified_time: '2015-10-09T10:08:48.174+02:00'
thumbnail: http://1.bp.blogspot.com/-z9FwrRicdAw/VbXUUomHSLI/AAAAAAAAKS4/lND-aIuy2ZA/s72-c/Untitled%2Bpicture.png
blogger_id: tag:blogger.com,1999:blog-15137028.post-4220367485426337663
blogger_orig_url: http://www.continuousimprover.com/2015/07/ingredients-for-well-designed-owin_27.html
---

<div style="margin: 0in;"><span style="font-family: inherit;">In the <a href="http://www.continuousimprover.com/2015/07/ingredients-for-well-designed-owin_10.html">fifth post</a> of this series I talked about some PowerShell tips to align the versions of all NuGet packages. In this sixth post, I'd like to show you how you can make your HTTP API much easier to use. </span></div><div style="margin: 0in;"><br /></div><div style="margin: 0in;"><span style="font-weight: bold;"><span style="font-family: inherit;">Ingredient 7: Swagger-enabled documentation</span></span></div><div style="margin: 0in;"><span style="font-family: inherit;">If your component exposes an HTTP API based on WebAPI, I would suggest you add support for <a href="http://swagger.io/">Swagger</a> documentation. Swagger has become the ad-hoc WSDL equivalent for HTTP-based API. Adding this to your WebAPI controllers is as easy as referencing the <a href="https://github.com/domaindrivendev/Swashbuckle">Swashbuckle</a> NuGet package and attaching the following lines of code to your </span><span style="font-family: Courier New, Courier, monospace;">HttpConfiguration</span><span style="font-family: inherit;">.</span></div><div style="margin: 0in;"><br /></div><div style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">private static void EnableSwagger(HttpConfiguration configuration)</span></div><div style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">{</span></div><div style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp; configuration.EnableSwagger(c =&gt;</span></div><div style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp; {</span></div><div style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp; &nbsp; c.SingleApiVersion("v1", "Piercer; easily diagnose run-time assemblies and threads");</span></div><div style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp; &nbsp; c.RootUrl(req =&gt; SwaggerDocsConfig.DefaultRootUrlResolver(req) + "/api");</span></div><div style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp; &nbsp; c.IncludeXmlComments(GetXmlCommentsPath());</span></div><div style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp; }).EnableSwaggerUi();</span></div><div style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">}</span></div><div style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;"><br /></span></div><div style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">private static string GetXmlCommentsPath()</span></div><div style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">{</span></div><div style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">&nbsp; return Assembly.GetExecutingAssembly().CodeBase.ToLower().Replace(".dll", ".xml");</span></div><div style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">}</span></div><div><br /></div><div style="margin: 0in;"><span style="font-family: inherit;">In the case of Piercer, starting the Test Host and browsing to <a href="http://localhost:12345/api/swagger/docs/v1">http://localhost:12345/api/swagger/docs/v1</a>returns the following JSON that you can use directly to generate code using <a href="https://github.com/swagger-api/swagger-codegen">swagger-codegen</a>.</span></div><div style="margin: 0in;"><br /></div><div style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">{</span></div><div style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">"swagger": "2.0",</span></div><div style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">"info": {</span></div><div style="margin: 0in 0in 0in 0.75in;"><span style="font-family: Courier New, Courier, monospace;">"version": "v1",</span></div><div style="margin: 0in 0in 0in 0.75in;"><span style="font-family: Courier New, Courier, monospace;">"title": "Piercer; easily diagnose run-time assemblies and threads"</span></div><div style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">},</span></div><div style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">"host": "localhost:12345",</span></div><div style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">"basePath": "/api",</span></div><div style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">"schemes": ["http"],</span></div><div style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">"paths": {</span></div><div style="margin: 0in 0in 0in 0.75in;"><span style="font-family: Courier New, Courier, monospace;">"/piercer/assemblies": {</span></div><div style="margin: 0in 0in 0in 1.125in;"><span style="font-family: Courier New, Courier, monospace;">"get": {</span></div><div style="margin: 0in 0in 0in 1.5in;"><span style="font-family: Courier New, Courier, monospace;">"tags": ["Piercer"],</span></div><div style="margin: 0in 0in 0in 1.5in;"><span style="font-family: Courier New, Courier, monospace;">"summary": "Returns all the run-time assemblies of the host process.",</span></div><div style="margin: 0in 0in 0in 1.5in;"><span style="font-family: Courier New, Courier, monospace;">"operationId": "Piercer_GetAssemblies",</span></div><div style="margin: 0in 0in 0in 1.5in;"><span style="font-family: Courier New, Courier, monospace;">"consumes": [],</span></div><div style="margin: 0in 0in 0in 1.5in;"><span style="font-family: Courier New, Courier, monospace;">"produces": ["application/json",</span></div><div style="margin: 0in 0in 0in 1.5in;"><span style="font-family: Courier New, Courier, monospace;">"text/json",</span></div><div style="margin: 0in 0in 0in 1.5in;"><span style="font-family: Courier New, Courier, monospace;">"application/xml",</span></div><div style="margin: 0in 0in 0in 1.5in;"><span style="font-family: Courier New, Courier, monospace;">"text/xml"],</span></div><div style="margin: 0in 0in 0in 1.5in;"><span style="font-family: Courier New, Courier, monospace;">"responses": {</span></div><div style="margin: 0in 0in 0in 1.875in;"><span style="font-family: Courier New, Courier, monospace;">"200": {</span></div><div style="margin: 0in 0in 0in 2.25in;"><span style="font-family: Courier New, Courier, monospace;">"description": "OK",</span></div><div style="margin: 0in 0in 0in 2.25in;"><span style="font-family: Courier New, Courier, monospace;">"schema": {</span></div><div style="margin: 0in 0in 0in 2.625in;"><span style="font-family: Courier New, Courier, monospace;">"type": "array",</span></div><div style="margin: 0in 0in 0in 2.625in;"><span style="font-family: Courier New, Courier, monospace;">"items": {</span></div><div style="margin: 0in 0in 0in 3in;"><span style="font-family: Courier New, Courier, monospace;">"type": "string"</span></div><div style="margin: 0in 0in 0in 2.625in;"><span style="font-family: Courier New, Courier, monospace;">}</span></div><div style="margin: 0in 0in 0in 2.25in;"><span style="font-family: Courier New, Courier, monospace;">}</span></div><div style="margin: 0in 0in 0in 1.875in;"><span style="font-family: Courier New, Courier, monospace;">}</span></div><div style="margin: 0in 0in 0in 1.5in;"><span style="font-family: Courier New, Courier, monospace;">},</span></div><div style="margin: 0in 0in 0in 1.5in;"><span style="font-family: Courier New, Courier, monospace;">"deprecated": false</span></div><div style="margin: 0in 0in 0in 1.125in;"><span style="font-family: Courier New, Courier, monospace;">}</span></div><div style="margin: 0in 0in 0in 0.75in;"><span style="font-family: Courier New, Courier, monospace;">}</span></div><div style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">},</span></div><div style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">"definitions": {</span></div><div lang="nl" style="margin: 0in 0in 0in 0.75in;"><br /></div><div style="margin: 0in 0in 0in 0.375in;"><span style="font-family: Courier New, Courier, monospace;">}</span></div><div style="margin: 0in;"><span style="font-family: Courier New, Courier, monospace;">}</span></div><div style="margin: 0in;"><br /></div><div style="margin: 0in;"><span style="font-family: inherit;">On the other hand, if you would browse to <a href="http://localhost:12345/api/swagger/ui/index">http://localhost:12345/api/swagger/ui/index</a>, you'll get this nice UI:</span></div><div style="margin: 0in;"><br /></div><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-z9FwrRicdAw/VbXUUomHSLI/AAAAAAAAKS4/lND-aIuy2ZA/s1600/Untitled%2Bpicture.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="353" src="http://1.bp.blogspot.com/-z9FwrRicdAw/VbXUUomHSLI/AAAAAAAAKS4/lND-aIuy2ZA/s640/Untitled%2Bpicture.png" width="640" /></a></div><div style="margin: 0in;"><span style="font-family: inherit;">Customizing how your component exposes its HTTP APIs or tweaking the look and feel of the documentation page is all documented at the </span><a href="https://github.com/domaindrivendev/Swashbuckle" style="font-family: inherit;">Swashbuckle landing page</a><span style="font-family: inherit;">.&nbsp;</span></div>