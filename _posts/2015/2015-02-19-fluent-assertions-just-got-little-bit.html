---

title: Fluent Assertions just a got a little bit better
date: '2015-02-19T08:03:00.001+01:00'

tags:
- Fluent Assertions
modified_time: '2015-02-19T08:03:04.044+01:00'
blogger_id: tag:blogger.com,1999:blog-15137028.post-4784655707682342387
blogger_orig_url: http://www.continuousimprover.com/2015/02/fluent-assertions-just-got-little-bit.html
---

<p>Just a quick post to let you all know that Iâ€™ve just published a new version of Fluent Assertions with a load of little improvements that will improve your life as a unit test developer a little bit. </p> <p><strong>New features</strong> <ul> <li>Added <code>CompareEnumsAsString</code> and <code>CompareEnumsAsValue</code> to the options taken by<code>ShouldBeEquivalentTo</code> so specify how enumerations are compared.  <li>Added <code>ShouldThrowExactly</code> and <code>WithInnerExceptionExactly</code> to assert a specific exception was thrown rather than the default of allowing sub-classes of those exceptions. <a href="https://github.com/dennisdoomen/fluentassertions/issues/176">#176</a> <li>Introduced a new static <code>AssertionOptions</code> class that can be used to change the defaults used by <code>ShouldBeEquivalentTo</code>, alter the global collection of <code>IEquivalencyStep</code>s that are used internally, and change the rules that are used to identify value types. <a href="https://github.com/dennisdoomen/fluentassertions/issues/134">#134</a> <li><code>ShouldBeEquivalentTo</code> will now also include public fields. Obviously, this can be changed using a set of new members on the <code>EquivalencyAssertionOptions&lt;T&gt;</code> class that the equivalency API takes.  <li>Extended the collection assertions with <code>StartWith</code>, <code>EndWith</code>, <code>HaveElementPreceding</code> and<code>HaveElementSucceeding</code>.  <li>Added methods <code>ThatAreDecoratedWith</code>, <code>ThatAreInNamespace</code>, <code>ThatAreUnderNamespace</code>,<code>ThatDeriveFrom</code> and <code>ThatImplement</code> to filter types from assemblies that need to comply to certain <a href="https://github.com/dennisdoomen/fluentassertions/wiki#type-method-and-property-assertions">prerequisites</a>.  <li>Added <code>BeAssignableTo</code> that directly apply to<code>Type</code> objects.</li></ul> <p><strong>Minor improvements and fixes</strong> <ul> <li>Extended the time-conversion convenience methods with <code>4.Ticks()</code> <li>When an object implements <code>IDictionary&lt;T,K&gt;</code> more than once, <code>ShouldBeEquivalentTo</code> will fail rather than pick a random implementation. Likewise, if a dictionary only implements<code>IDictionary&lt;,&gt;</code> explicitly, it will still be treated as a dictionary. Finally, <code>ShouldBeEquivalentTo</code>will now respect the declared type of a generic dictionary.  <li>A null reference in a nested collection wasn't properly detected by <code>ShouldBeEquivalentTo</code>.  <li>Corrected the remaining cases where <code>ShouldBeEquivalentTo</code> did not respect the declared type. <a href="https://github.com/dennisdoomen/fluentassertions/pull/161">#161</a> <li>Adding an overload to <code>collection.ContainSingle()</code> having no arguments.  <li>Included the time zone offset when displaying a <code>DateTimeOffset</code>. <a href="https://github.com/dennisdoomen/fluentassertions/pull/160">#160</a> <li><code>collection.Should().BeEmpty()</code> now properly reports the collection items it found unexpectedly. <a href="https://github.com/dennisdoomen/fluentassertions/issues/224">#224</a> <li>Made the fallback <code>AssertFailedException</code> serializable to help in certain cross-<code>AppDomain</code> unit tests. <a href="https://github.com/dennisdoomen/fluentassertions/issues/214">#214</a> <li>Better support for rendering the <code>TimeSpan</code>'s <code>MinValue</code> and <code>MaxValue</code> without causign stack overflow exceptions. <a href="https://github.com/dennisdoomen/fluentassertions/issues/212">#212</a> <li>Fixed an issue where the Windows 8.1 test framework detection code would ran into a deadlock when using a <code>[UITestMethod]</code>. <a href="https://github.com/dennisdoomen/fluentassertions/issues/223">#223</a> <li>Fixed an issue where <code>ShouldBeEquivalentTo</code> would throw an internal exception on a unset <code>byte[]</code> property. <a href="https://github.com/dennisdoomen/fluentassertions/issues/165">#165</a></li></ul> <p><strong>Internal changes</strong> <ul> <li>We now use StyleCop to improve the quality level of the code.  <li>The first steps have been taken to deprecate <code>IAssertionRule</code>.  <li>The internal assertion API has been changed to allow chaining complex assertions using a fluent API. This should make it a lot easier to extend Fluent Assertions. You can read more about that in <a href="http://www.continuousimprover.com/2015/02/continuous-refactoring-in-its-natural.html">this blog post</a> <li>We've started to use <a href="https://github.com/Erwinvandervalk/Chill">Chill</a> to improve the readability of the more behavioral unit tests.</li></ul> <p>As usual, you can get the bits from <a href="https://www.nuget.org/packages/fluentassertions">NuGet</a> or through the main <a href="http://www.fluentassertions.com/">landing page</a>. Tweet me at <a href="https://twitter.com/ddoomen">@ddoomen</a> for questions or post them on <a href="http://stackoverflow.com/questions/tagged/fluent-assertions">StackOverflow</a>. If you find any issues, post them to the <a href="https://github.com/dennisdoomen/fluentassertions/issues">GitHub repository</a>. </p>  